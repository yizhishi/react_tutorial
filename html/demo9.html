<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Hello React!</title>
    <script src="../build/react.development.js"></script>
    <script src="../build/react-dom.development.js"></script>
    <script src="../build/babel.min.js"></script>
</head>

<body>

    <div id="example"></div>

    <script type="text/babel">

    class NameForm extends React.Component {
        constructor(props) {
            super(props)
            this.state = {value: ''}
            // this.state = {value: '2'} // 可以初始化value
            this.handleChange = this.handleChange.bind(this);
            this.handleSubmit = this.handleSubmit.bind(this);
        }

        handleChange(event) {
            this.setState({value: event.target.value.toUpperCase()})
        }
        handleSubmit(event) {
            alert('submit name: ' + this.state.value)
            event.preventDefault()
        }
        render() {
            return (
                <form onSubmit={this.handleSubmit}>
                    <label>
                        名字: 
                        <input type='text' value={this.state.value} onChange={this.handleChange} />
                    </label>
                    <label style={{display: 'block'}}>
                        文章:
                        <textarea value={this.state.value} onChange={this.handleChange} />
                    </label>
                    <input type='submit' value='提交' />
                </form>
            )
        }
    }
    class FlavorForm extends React.Component {
        constructor(props) {
            super(props)
            this.state = {value: ['coconut', 'apple']} // 多选
            // this.state = {value: 'coconut'}
            this.handleChange = this.handleChange.bind(this)
            this.handleSubmit = this.handleSubmit.bind(this)
        }
        handleChange(event) {
            // this.setState(function(event) {
            //     return {value: event.target.value}
            // })
            // this.setState(event => ({
            //     value: event.target.value
            //     })
            // )
            this.setState({value: event.target.value})
        }
        handleSubmit(event) {
            alert('your favourite fruit is ' + this.state.value)
            event.preventDefault()
        }
        render() {
            return (
                <form onSubmit={this.handleSubmit}>
                    <label>
                        <select multiple={true} value={this.state.value} onChange={this.handleChange}>
                            <option value='apple'>apple</option>
                            <option value='coconut'>coconut</option>
                            <option value='banana'>banana</option>
                        </select>
                    </label>
                    <input type='submit' value='提交' />
                </form>
            )
        }
    }
    ReactDOM.render(
        // <NameForm />,
        <FlavorForm />,
        document.getElementById('example')
    )
    </script>

</body>

</html>